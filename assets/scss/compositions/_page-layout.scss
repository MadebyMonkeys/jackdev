@use "../abstracts" as *;

// -----------------------------------------------------------------------------
// Page Layout
// -----------------------------------------------------------------------------

.page-layout,
.full-width {
    --_page-padding-inline: var(--page-padding-inline, #{$page-padding-inline});

    --_page-popout-max-width: var(--page-popout-max-width, #{$page-popout-max-width});
    --_page-content-max-width: var(--page-content-max-width, #{$page-content-max-width});
    --_page-narrow-max-width: var(--page-narrow-max-width, #{$page-narrow-max-width});

    --full: minmax(var(--_page-padding-inline), 1fr);
    --popout: minmax(0, calc((var(--_page-popout-max-width) - var(--_page-content-max-width)) * 0.5));
    --content: minmax(0, calc((var(--_page-content-max-width) - var(--_page-narrow-max-width)) * 0.5));
    --narrow: min(var(--_page-narrow-max-width), 100% - var(--_page-padding-inline) * 2);

    display: grid;
    grid-template-columns:
        [full-start] var(--full)
        [popout-start] var(--popout)
        [content-start] var(--content)
        [narrow-start] var(--narrow) [narrow-end]
        var(--content) [content-end]
        var(--popout) [popout-end]
        var(--full) [full-end];
}

.page-layout,
.full-width {
    & > *:not(.narrow, .popout, .full, .full-width) {
        grid-column: content;
    }

    .narrow {
        grid-column: narrow;

        &-start {
            grid-column: narrow-start;
        }
    
        &-end {
            grid-column: narrow-end;
        }
    }

    .content {
        grid-column: content;

        &-start {
            grid-column: content-start;
        }
    
        &-end {
            grid-column: content-end;
        }
    }

    .popout {
        grid-column: popout;

        &-start {
            grid-column: popout-start;
        }
    
        &-end {
            grid-column: popout-end;
        }
    }

    .full {
        grid-column: full;

        &-start {
            grid-column: full-start;
        }
    
        &-end {
            grid-column: full-end;
        }
    }
}


.full-width {
    grid-column: full;
    display: grid;
    grid-template-columns: inherit;
}